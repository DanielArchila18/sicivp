<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">   

    <style type="text/css">



        .form{
            display: grid;
            grid-template-columns: 1fr 1fr;
        }





        @media(min-width: 7000px){
            .formi{
                display:grid;
                grid-template-columns: 2fr 1fr;

            }

        }
    </style>
    <h:head>
        <title>Facelet Title</title>
        <h:outputStylesheet name="/bootstrap/css/bootstrap.min.css"/>
        <h:outputStylesheet name="/css/css.css"/>

    </h:head>
    <h:body>
        <div class="container-fluid">
            <div class="row justify-content-center">
                <div class="col-lg-5" style="width: 40% ">
                    <div class="card border-8 rounded-lg mt-5" style="box-shadow: 0px 0px 11px 0px rgba(0, 0, 0, 0.1); border:white;">
                        <h3 class="text-center" style="padding-top:20px;  border-bottom: 2px solid rgba( 55, 142, 237);
                            border-radius: 15px;
                            padding:25px;
                            font-family: 'Abel', sans-serif;
                            font-weight:500;
                            ">Agregar Producto</h3>
                        <div class="card-body">


                            <div class="formi">
                                <h:form class="form" enctype="multipart/formdata">
                                    <h:panelGrid id="grid" cellpadding="7" columns="1" styleClass="mb-3">

                                        <p:outputLabel  value="Referencia:"/>
                                        <p:inputText id="firstname" value="#{productoBean.producto.referencia}" style="width: 100%" required="true" requiredMessage="Referencia es requerida"/>

                                        <p:outputLabel  value="Precio Unitario:"/>
                                        <p:inputText id="middle" value="#{productoBean.producto.precio}" style="width: 100%" required="true" requiredMessage="Ingrese un precio"  validatorMessage="Ingrese un numero valido">
                                            <f:validateLongRange minimum="0"/>
                                        </p:inputText>


                                    </h:panelGrid>


                                    <h:panelGrid cellpadding="7" columns="1" styleClass="mb-3">

                                        <p:outputLabel value="Nombre:"/>
                                        <p:inputText style="width: 100%" value="#{productoBean.producto.nombre}" required="true" requiredMessage="nombre es requerido"/>

                                        <p:outputLabel value="Categoria:"/>
                                        <p:selectOneMenu  style="width: 100%" value="#{productoBean.id_categoria}" >
                                            <f:selectItems value="#{productoBean.listaCategorias()}" var="categoria" itemValue="#{categoria.id}" itemLabel="#{categoria.nombre}"/>

                                        </p:selectOneMenu>




                                    </h:panelGrid>



                                    <p:growl id="msgs" showDetail="true" skipDetailIfEqualsSummary="true"/>



                                    <p:commandButton value="Enviar" update="msgs" action="#{productoBean.addProducto()}" icon="pi pi-check" style="width: 100%"/>

                                    <p:growl id="message" showDetail="true">

                                        <p:autoUpdate/>
                                    </p:growl>
                                    <h:form>

                                        <p:commandButton value="Regresar a lista" action="listProductos.xhtml?faces-redirect=true" class="ui-button-danger"/>  
                                    </h:form>
                                </h:form>
                            </div>




                        </div>
                    </div>
                </div>
            </div>
        </div>

    </h:body>
</html>

